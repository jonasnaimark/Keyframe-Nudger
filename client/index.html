<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Keyframe Nudger</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Keyframe Nudger Section -->
        <section class="section">
            <div class="section-content">
                <!-- Top row: 4 equal-width buttons -->
                <div class="control-row keyframe-row-1">
                    <!-- 1. Snap keys to playhead -->
                    <button class="stagger-btn" id="snapToPlayheadBtn" type="button" title="Snap to playhead&#10;Shift: Keep delays">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M36 31L36 58" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <path d="M46.3682 35L53.8543 42.4861L46.3682 49.9723" stroke="white" stroke-width="4" stroke-linecap="square"/>
                            <path d="M25.6025 35L18.1164 42.4861L25.6025 49.9723" stroke="white" stroke-width="4" stroke-linecap="square"/>
                            <path d="M45 4C46.1046 4 47 4.89543 47 6V18.1377C47 18.6365 46.8138 19.1179 46.4775 19.4863L37.4775 29.3486C37.0986 29.7638 36.5621 30 36 30C35.4379 30 34.9014 29.7638 34.5225 29.3486L25.5225 19.4863C25.1862 19.1179 25 18.6365 25 18.1377V6L25.0107 5.7959C25.113 4.78722 25.9643 4 27 4L45 4Z" stroke="white" stroke-width="4" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <!-- 2. Mirror keys -->
                    <button class="stagger-btn" id="mirrorKeysBtn" type="button" title="Mirror keys">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M36 7L36 55" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="59" y="21.1716" width="14" height="14" transform="rotate(45 59 21.1716)" stroke="white" stroke-width="4"/>
                            <rect x="13" y="21.1716" width="14" height="14" transform="rotate(45 13 21.1716)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 3. Stagger direction -->
                    <button class="stagger-btn" id="staggerActionBtn" type="button" title="Stagger direction">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M48 31L24 31" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <path d="M32 48L8 48" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <path d="M64 14L40 14" stroke="white" stroke-width="4" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <!-- 4. Read Keyframes -->
                    <button id="readKeyframes" class="stagger-btn" title="Read Keyframes">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <rect x="11.9614" y="6" width="37.4913" height="37.4913" rx="18.7456" stroke="white" stroke-width="4"/>
                            <line x1="44.0446" y1="37.3807" x2="64.2504" y2="57.5866" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                </div>
                <!-- Second row: 4 equal-width buttons -->
                <div class="control-row keyframe-row-2">
                    <!-- 1. Trim in-point -->
                    <button id="trimInBtn" class="stagger-btn" type="button" title="Trim in-point&#10;Shift: Min in-point">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M60.0046 13L12.0046 13" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="15.9998" y="31.1774" width="14" height="14" transform="rotate(45 15.9998 31.1774)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 2. Trim out-point -->
                    <button id="trimOutBtn" class="stagger-btn" type="button" title="Trim out-point&#10;Shift: Max out-point">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M60.0049 13L12.0049 13" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="56" y="31.1774" width="14" height="14" transform="rotate(45 56 31.1774)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 3. Copy keys -->
                    <button id="copyKeysBtn" class="stagger-btn" type="button" title="Copy keys">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M55 13C57.2091 13 59 14.7909 59 17V53C59 55.2091 57.2091 57 55 57H28C25.7909 57 24 55.2091 24 53H55V13Z" fill="white"/>
                            <rect x="12" y="7" width="37" height="40" stroke="white" stroke-width="4" stroke-linejoin="round"/>
                            <path d="M38.5293 25.9297L30.044 17.4444L21.5587 25.9297" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M30.0566 35.5312L30.0566 20.5313" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <!-- 4. Paste keys -->
                    <button id="pasteKeysBtn" class="stagger-btn" type="button" title="Paste keys">
                        <svg class="btn-icon" viewBox="0 0 72 62" fill="none">
                            <path d="M55 13C57.2091 13 59 14.7909 59 17V53C59 55.2091 57.2091 57 55 57H28C25.7909 57 24 55.2091 24 53H55V13Z" fill="white"/>
                            <rect x="12" y="7" width="37" height="40" stroke="white" stroke-width="4" stroke-linejoin="round"/>
                            <path d="M22 27.0469L30.4853 35.5322L38.9706 27.0469" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M30.4727 17.4453L30.4727 32.4453" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <!-- Frame multiplier row -->
                <div class="control-row compact-row">
                    <div class="resolution-display" id="frameMultiplierDisplay">
                        <span id="frameMultiplierText">Frame multiplier</span>
                        <div class="stagger-controls">
                            <input class="stagger-input" id="globalFrameInput" type="number" value="3" min="1" step="1" data-tooltip="Frames">
                        </div>
                    </div>
                </div>
                <div class="control-row compact-row">
                    <div class="resolution-display" id="delayDisplay">
                        <span id="delayText">Delay</span>
                        <div class="stagger-controls">
                            <button class="stagger-btn decrement" id="delayDecrementBtn" type="button" title="Decrease delay&#10;Shift: Ignore precomps">‚àí</button>
                            <button class="stagger-btn increment" id="delayIncrementBtn" type="button" title="Increase delay&#10;Shift: Ignore precomps">+</button>
                        </div>
                    </div>
                </div>
                <div class="control-row compact-row">
                    <div class="resolution-display" id="durationDisplay">
                        <span id="durationText">Duration</span>
                        <div class="stagger-controls">
                            <button class="stagger-btn decrement" id="durationDecrementBtn" type="button">‚àí</button>
                            <button class="stagger-btn increment" id="durationIncrementBtn" type="button">+</button>
                        </div>
                    </div>
                </div>
                <div class="control-row compact-row">
                    <div class="resolution-display" id="staggerDisplay">
                        <span id="staggerText">Stagger</span>
                        <div class="stagger-controls">
                            <button class="stagger-btn decrement" id="staggerDecrementBtn" type="button">‚àí</button>
                            <button class="stagger-btn increment" id="staggerIncrementBtn" type="button">+</button>
                        </div>
                    </div>
                </div>
                <div class="control-row compact-row position-row" id="xDistanceRow">
                    <div class="keyframe-display" id="xDistanceDisplay">
                        <span id="xDistanceText">X distance</span>
                        <div class="distance-controls">
                            <button class="distance-btn in-out-btn selected" id="xInBtn" type="button">In</button>
                            <button class="distance-btn in-out-btn" id="xOutBtn" type="button">Out</button>
                            <button class="distance-btn nudge-btn decrement" id="xDecrementBtn" type="button"><span class="triangle triangle-left"></span></button>
                            <button class="distance-btn nudge-btn increment" id="xIncrementBtn" type="button"><span class="triangle triangle-right"></span></button>
                        </div>
                    </div>
                </div>
                <div class="control-row compact-row position-row" id="yDistanceRow">
                    <div class="keyframe-display" id="yDistanceDisplay">
                        <span id="yDistanceText">Y distance</span>
                        <div class="distance-controls">
                            <button class="distance-btn in-out-btn selected" id="yInBtn" type="button">In</button>
                            <button class="distance-btn in-out-btn" id="yOutBtn" type="button">Out</button>
                            <button class="distance-btn nudge-btn decrement" id="yDecrementBtn" type="button"><span class="triangle triangle-up"></span></button>
                            <button class="distance-btn nudge-btn increment" id="yIncrementBtn" type="button"><span class="triangle triangle-down"></span></button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Debug button row (inside container, at bottom) -->
        <div style="display: flex; justify-content: flex-end; padding: 4px 8px;">
            <button onclick="addDebugPanel()" style="
                background: #333;
                border: 1px solid #555;
                color: #888;
                padding: 2px 6px;
                border-radius: 3px;
                font-size: 9px;
                cursor: pointer;
            ">üêõ Debug</button>
        </div>
    </div>

    <!-- Load Adobe's CEP JavaScript library -->
    <script src="js/CSInterface.js"></script>
    <!-- Load our custom JavaScript -->
    <script src="js/main.js"></script>
</body>
</html>
