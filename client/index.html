<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Keyframe Nudger</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Keyframe Nudger Section -->
        <div class="section-container">
            <section class="section">
                <div class="section-header">
                    <h2>Keyframe Nudger</h2>
                </div>
                <div class="section-content">
                <!-- Top row with 5 equal-width elements -->
                <div class="control-row keyframe-top-row">
                    <!-- 1. Read Keyframes (icon button, same handler) -->
                    <button id="readKeyframes" class="stagger-btn" title="Read Keyframes">
                        <svg width="18" height="18" viewBox="0 0 62 62" fill="none">
                            <g clip-path="url(#clip0_read)">
                                <rect x="2" y="3" width="41" height="40" rx="20" stroke="white" stroke-width="4"/>
                                <line x1="38.4984" y1="38.912" x2="60.1738" y2="60.5873" stroke="white" stroke-width="4"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_read">
                                    <rect width="62" height="62" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </button>
                    <!-- 2. Snap keys to playhead -->
                    <button class="stagger-btn" id="snapToPlayheadBtn" type="button" title="Snap to playhead&#10;Shift: Keep delays">
                        <svg width="18" height="18" viewBox="0 0 62 62" fill="none">
                            <path d="M31 30L31 58" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <path d="M50.3682 51L41.8829 42.5147L50.3682 34.0294" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11.6025 50.9727L20.0878 42.4874L11.6025 34.0021" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M40 3C41.1046 3 42 3.89543 42 5V18.1377C42 18.6735 41.7851 19.1876 41.4033 19.5635L32.4033 28.4248C31.6248 29.1913 30.3752 29.1913 29.5967 28.4248L20.5967 19.5635C20.2149 19.1876 20 18.6735 20 18.1377V5C20 4.46957 20.2109 3.96101 20.5859 3.58594C20.961 3.21086 21.4696 3 22 3L40 3Z" stroke="white" stroke-width="4" stroke-linejoin="round"/>
                            <path d="M46 42.5H60" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 42.5L17 42.5" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <!-- 3. Mirror keys -->
                    <button class="stagger-btn" id="mirrorKeysBtn" type="button" title="Mirror keys">
                        <svg width="21" height="18" viewBox="0 0 72 62" fill="none">
                            <path d="M36 7L36 55" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="59" y="21.1716" width="14" height="14" transform="rotate(45 59 21.1716)" stroke="white" stroke-width="4"/>
                            <rect x="13" y="21.1716" width="14" height="14" transform="rotate(45 13 21.1716)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 4. Stagger direction (moved from stagger row) -->
                    <button class="stagger-btn" id="staggerActionBtn" type="button" title="Stagger direction">
                        <svg width="18" height="18" viewBox="0 0 62 62" fill="none">
                            <path d="M43 31L19 31" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <path d="M29 48L5 48" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <path d="M57 14L33 14" stroke="white" stroke-width="4" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <!-- 5. Global frame number input (replaces 3 inputs below) -->
                    <input class="stagger-input" id="globalFrameInput" type="number" value="3" min="0.1" max="99" step="0.1" data-tooltip="Frames">
                </div>
                <!-- Second row with 5 buttons -->
                <div class="control-row keyframe-top-row">
                    <!-- 1. Trim in point -->
                    <button id="trimInBtn" class="stagger-btn" type="button" title="Trim in point">
                        <svg width="21" height="18" viewBox="0 0 72 62" fill="none">
                            <path d="M60.0049 13L12.0049 13" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="13" y="31.1774" width="14" height="14" transform="rotate(45 13 31.1774)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 2. Trim out point -->
                    <button id="trimOutBtn" class="stagger-btn" type="button" title="Trim out point">
                        <svg width="21" height="18" viewBox="0 0 72 62" fill="none">
                            <path d="M60.0049 13L12.0049 13" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="59" y="31.1774" width="14" height="14" transform="rotate(45 59 31.1774)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 3. Trim in-out point -->
                    <button id="trimInOutBtn" class="stagger-btn" type="button" title="Trim in-out point">
                        <svg width="21" height="18" viewBox="0 0 72 62" fill="none">
                            <path d="M60.0049 13L12.0049 13" stroke="white" stroke-width="4" stroke-linecap="round"/>
                            <rect x="59" y="31.1774" width="14" height="14" transform="rotate(45 59 31.1774)" stroke="white" stroke-width="4"/>
                            <rect x="12.9998" y="31.1774" width="14" height="14" transform="rotate(45 12.9998 31.1774)" stroke="white" stroke-width="4"/>
                        </svg>
                    </button>
                    <!-- 4. Copy keys -->
                    <button id="copyKeysBtn" class="stagger-btn" type="button" title="Copy keys">
                        <svg width="18" height="18" viewBox="0 0 62 62" fill="none">
                            <path d="M48 13C50.2091 13 52 14.7909 52 17V53C52 55.2091 50.2091 57 48 57H21C18.7909 57 17 55.2091 17 53H48V13Z" fill="white"/>
                            <rect x="5" y="7" width="37" height="40" stroke="white" stroke-width="4" stroke-linejoin="round"/>
                            <path d="M31.5293 25.9297L23.044 17.4444L14.5587 25.9297" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M23.0566 35.5312L23.0566 20.5313" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <!-- 5. Paste keys -->
                    <button id="pasteKeysBtn" class="stagger-btn" type="button" title="Paste keys">
                        <svg width="18" height="18" viewBox="0 0 62 62" fill="none">
                            <path d="M48 13C50.2091 13 52 14.7909 52 17V53C52 55.2091 50.2091 57 48 57H21C18.7909 57 17 55.2091 17 53H48V13Z" fill="white"/>
                            <rect x="5" y="7" width="37" height="40" stroke="white" stroke-width="4" stroke-linejoin="round"/>
                            <path d="M15 27.0469L23.4853 35.5322L31.9706 27.0469" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M23.4727 17.4453L23.4727 32.4453" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="control-row">
                    <div class="resolution-display" id="delayDisplay">
                        <span id="delayText" style="opacity: 0.75;">Delay</span>
                        <div class="stagger-controls">
                            <button class="stagger-btn decrement" id="delayDecrementBtn" type="button" title="Decrease delay&#10;Shift: Ignore precomps">−</button>
                            <button class="stagger-btn increment" id="delayIncrementBtn" type="button" title="Increase delay&#10;Shift: Ignore precomps">+</button>
                        </div>
                    </div>
                </div>
                <div class="control-row">
                    <div class="resolution-display" id="durationDisplay">
                        <span id="durationText" style="opacity: 0.75;">Duration</span>
                        <div class="stagger-controls">
                            <button class="stagger-btn decrement" id="durationDecrementBtn" type="button">−</button>
                            <button class="stagger-btn increment" id="durationIncrementBtn" type="button">+</button>
                        </div>
                    </div>
                </div>
                <div class="control-row" id="staggerRow">
                    <div class="keyframe-display" id="staggerDisplay">
                        <span id="staggerText">Stagger</span>
                        <div class="distance-controls">
                            <button class="stagger-btn decrement" id="staggerDecrementBtn" type="button">−</button>
                            <button class="stagger-btn increment" id="staggerIncrementBtn" type="button">+</button>
                        </div>
                    </div>
                </div>
                <div class="control-row position-row" id="xDistanceRow">
                    <div class="keyframe-display" id="xDistanceDisplay">
                        <span id="xDistanceText">X distance</span>
                        <div class="distance-controls">
                            <button class="distance-btn in-out-btn selected" id="xInBtn" type="button">In</button>
                            <button class="distance-btn in-out-btn" id="xOutBtn" type="button">Out</button>
                            <button class="distance-btn nudge-btn decrement" id="xDecrementBtn" type="button"><span class="triangle triangle-left"></span></button>
                            <button class="distance-btn nudge-btn increment" id="xIncrementBtn" type="button"><span class="triangle triangle-right"></span></button>
                        </div>
                    </div>
                </div>
                <div class="control-row position-row" id="yDistanceRow">
                    <div class="keyframe-display" id="yDistanceDisplay">
                        <span id="yDistanceText">Y distance</span>
                        <div class="distance-controls">
                            <button class="distance-btn in-out-btn selected" id="yInBtn" type="button">In</button>
                            <button class="distance-btn in-out-btn" id="yOutBtn" type="button">Out</button>
                            <button class="distance-btn nudge-btn decrement" id="yDecrementBtn" type="button"><span class="triangle triangle-up"></span></button>
                            <button class="distance-btn nudge-btn increment" id="yIncrementBtn" type="button"><span class="triangle triangle-down"></span></button>
                        </div>
                    </div>
                </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Load Adobe's CEP JavaScript library -->
    <script src="js/CSInterface.js"></script>
    <!-- Load our custom JavaScript -->
    <script src="js/main.js"></script>
</body>
</html>
